name: nfs-ganesha
title: Ganesha NFS server
type: storage
icon: ganesha
hostname: nfs-ganesha
scalable: false
options:
- version: 'v4.0.8'
  default: true

containers:
- name: nfs-provisioner
  image: registry.k8s.io/sig-storage/nfs-provisioner
  ports:
  - name: nfs
    number: 2049
    type: tcp
    main: true
  - name: nfs-udp
    number: 2049
    type: udp
  - name: nlockmgr
    number: 32803
    type: tcp
  - name: nlockmgr-udp
    number: 32803
    type: udp
  - name: mountd
    number: 20048
    type: tcp
  - name: mountd-udp
    number: 20048
    type: udp
  - name: rquotad
    number: 875
    type: tcp
  - name: rquotad-udp
    number: 875
    type: udp
  - name: rpcbind
    number: 111
    type: tcp
  - name: rpcbind-udp
    number: 111
    type: udp
  - name: statd
    number: 662
    type: tcp
  - name: statd-udp
    number: 662
    type: udp

imports:
- name: files
  title: Files import
  destination: /export
  extensions:
  - tar
  - tar.gz
  - tgz
  - zip

volumes:
- name: export
  title: Export
  configurations:
  - name: nfs-provisioner
    resources: resources
    annotations: podAnnotations
    env: envVars
    resources: resources

helm:
  name: wodby
  source: oci://registry-1.docker.io/wodby/nfs-provisioner
  chart: oci://registry-1.docker.io/wodby/nfs-provisioner
  version: 1.8.0

backups:
- name: files
  title: Files backup
  upload:
    dir: /export
    gzip: false
  integrations:
  - backup-destination

